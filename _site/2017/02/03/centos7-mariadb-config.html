<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        
                Qooqle | CentOS7上的Mariadb配置
        
    </title>
    <link rel="shortcut icon" type="image/png" href="/static/imgs/favicon16x16.png">
    <link rel="stylesheet" href="/static/css/global.css">
    
    <!--    <link rel="stylesheet" href="/static/css/post.css"> -->
    <!--    <link rel="stylesheet" href="/static/css/solarized.dark.css"> -->
    
</head>
<body>
    <header>
        <h1><a class="logo" href="/">Qooqle</a></h1>
        <ul class="nav">
            <li><h2><a href="/categories.html">Categories</a></h2></li>
            <li><h2><a href="/tags.html">Tags</a></h2></li>
            <li><h2><a href="/about.html">About</a></h2></li>
        </ul>
    </header>

    <div class="content">
                <h3 class="post-title">CentOS7上的Mariadb配置</h3>
        <div class="post-date">Feb 3, 2017 by 李江明</div>
        <div class="post-content">
            <p>以前一直使用<code class="highlighter-rouge">mysql</code>作为我的首选数据库，目前在Centos7上面我使用<code class="highlighter-rouge">mariadb</code>作为数据库，它和<code class="highlighter-rouge">mysql</code>的操作管理方式几乎一样。</p>

<h2 id="mariadb-server">安装mariadb-server</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>yum install mariadb-server
</code></pre>
</div>

<h2 id="mariadb">启动mariadb服务</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>systemctl enable mariadb
systemctl start mariadb
</code></pre>
</div>

<h2 id="root">设置root密码</h2>

<p>以前在安装<code class="highlighter-rouge">mysql</code>的过程中会有提示框提示设置<code class="highlighter-rouge">root</code>用户密码,在安装<code class="highlighter-rouge">mariadb-server</code>的过程中没有设置<code class="highlighter-rouge">root</code>密码这一步，初始密码为空。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mysqladmin -u root -p password
</code></pre>
</div>

<h2 id="section">远程连接</h2>

<h3 id="section-1">防火墙</h3>

<p>在防火墙中添加<code class="highlighter-rouge">mariadb-server</code>运行端口，默认端口为<code class="highlighter-rouge">3306</code>。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>firewall-cmd --add-port=3306/tcp
</code></pre>
</div>

<h3 id="section-2">添加用户和设置权限</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>grant 权限 on 数据库名.数据库表名 用户名@远程地址 identified by '密码';
</code></pre>
</div>

<p>权限可以设置insert,delete,update,select,create等权限的组合，也可以直接设置all privileges。</p>

<p>数据库表名可以被<code class="highlighter-rouge">*</code>代替，表示所有数据库表。</p>

<p>用户名可以是现有用户的名称，也可以是当前不存在用户的名称。</p>

<p>远程地址可以设置ip地址或主机名，可以被<code class="highlighter-rouge">%</code>代替，表示任意地址。</p>

<p>密码是用户名对应的登陆密码。</p>

<h3 id="section-3">刷新系统权限</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>flush privileges;
</code></pre>
</div>

<h2 id="section-4">客户端连接</h2>

<p>按照上面步骤操作，在客户端使用服务器ip地址和mariadb监听端口，以及有远程连接权限的用户登陆。</p>

        </div>

    </div>
    <footer>
        Power by Jekyll, stored in Github.
    </footer>
    <script type="text/javascript" src="/static/js/footer_bottom.js"></script>
</body>
</html>
